{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/satyam/nikki/web3-basics/react-three-fiber/image-gallery/src/app/page.js"],"sourcesContent":["'use client'\n\nimport * as THREE from 'three'\nimport { useEffect, useRef, useState } from 'react'\nimport { Canvas, useFrame } from '@react-three/fiber'\nimport { useCursor, MeshReflectorMaterial, Image, Text, Environment, Html } from '@react-three/drei'\nimport { useRoute, useLocation } from 'wouter'\nimport { easing } from 'maath'\nimport getUuid from 'uuid-by-string'\n\nconst GOLDENRATIO = 1.61803398874\n\nexport const App = ({ images }) => (\n  <Canvas dpr={[1, 1.5]} camera={{ fov: 70, position: [0, 2, 15] }}>\n    <color attach=\"background\" args={['#191920']} />\n    <fog attach=\"fog\" args={['#191920', 0, 15]} />\n    <group position={[0, -0.5, 0]}>\n      <Frames images={images} />\n      <mesh rotation={[-Math.PI / 2, 0, 0]}>\n        <planeGeometry args={[50, 50]} />\n        <MeshReflectorMaterial\n          blur={[300, 100]}\n          resolution={2048}\n          mixBlur={1}\n          mixStrength={80}\n          roughness={1}\n          depthScale={1.2}\n          minDepthThreshold={0.4}\n          maxDepthThreshold={1.4}\n          color=\"#050505\"\n          metalness={0.5}\n        />\n      </mesh>\n    </group>\n    <Environment preset=\"city\" />\n  </Canvas>\n)\n\nfunction Frames({ images, q = new THREE.Quaternion(), p = new THREE.Vector3() }) {\n  const ref = useRef()\n  const clicked = useRef()\n  const [, params] = useRoute('/item/:id')\n  const [, setLocation] = useLocation()\n  useEffect(() => {\n    clicked.current = ref.current.getObjectByName(params?.id)\n    if (clicked.current) {\n      clicked.current.parent.updateWorldMatrix(true, true)\n      clicked.current.parent.localToWorld(p.set(0, GOLDENRATIO / 2, 1.25))\n      clicked.current.parent.getWorldQuaternion(q)\n    } else {\n      p.set(0, 0, 5.5)\n      q.identity()\n    }\n  })\n  useFrame((state, dt) => {\n    easing.damp3(state.camera.position, p, 0.4, dt)\n    easing.dampQ(state.camera.quaternion, q, 0.4, dt)\n  })\n  return (\n    <group\n      ref={ref}\n      onClick={(e) => (e.stopPropagation(), setLocation(clicked.current === e.object ? '/' : '/item/' + e.object.name))}\n      onPointerMissed={() => setLocation('/')}>\n      {images.map((props) => <Frame key={props.url} {...props} /> /* prettier-ignore */)}\n    </group>\n  )\n}\n\nfunction Frame({ url, c = new THREE.Color(), ...props }) {\n  const image = useRef()\n  const frame = useRef()\n  const [, params] = useRoute('/item/:id')\n  const [hovered, hover] = useState(false)\n  const [rnd] = useState(() => Math.random())\n  const name = getUuid(url)\n  const isActive = params?.id === name\n  useCursor(hovered)\n  useFrame((state, dt) => {\n    image.current.material.zoom = 1.2 + Math.sin(rnd * 10000 + state.clock.elapsedTime / 3) / 4\n    easing.damp3(image.current.scale, [0.80 * (!isActive && hovered ? 0.85 : 1), 0.9 * (!isActive && hovered ? 0.905 : 1), 1], 0.1, dt)\n    easing.dampC(frame.current.material.color, hovered ? 'orange' : 'white', 0.1, dt)\n  })\nconst handleDownload = (e) => {\n    e.stopPropagation()\n    window.open(url, '_blank')\n  }\n  \n  const handleShare = (e) => {\n    e.stopPropagation()\n    alert(`Sharing: ${name}`)\n  }\n\n  return (\n    <group {...props}>\n      <mesh\n        name={name}\n        onPointerOver={(e) => (e.stopPropagation(), hover(true))}\n        onPointerOut={() => hover(false)}\n        scale={[1, GOLDENRATIO, 0.05]}\n        position={[0, GOLDENRATIO / 2, 0]}>\n        <boxGeometry />\n        <meshStandardMaterial color=\"#151515\" metalness={0.5} roughness={0.5} envMapIntensity={2} />\n        <mesh ref={frame} raycast={() => null} scale={[0.9, 0.93, 0.9]} position={[0, 0, 0.2]}>\n          <boxGeometry />\n          <meshBasicMaterial toneMapped={false} fog={false} />\n        </mesh>\n        <Image raycast={() => null} ref={image} position={[0, 0, 0.7]} url={url} />\n      </mesh>\n\n      <Text maxWidth={0.1} \n      anchorX=\"left\" \n      anchorY=\"top\" \n      position={[0.55, GOLDENRATIO, 0]} \n      fontSize={0.025} \n      color={hovered ? 'orange' : isActive ? '#00fff00' : 'white'}\n      >\n         {isActive ? '★ ' : hovered ? '→ ' : ''}{name.split('-').join(' ')}\n      </Text>\n\n      {/* hover description */}\n      {hovered && !isActive && (\n        <Text maxWidth={0.8}\n          anchorX=\"left\"\n          anchorY=\"top\"\n          position={[0.55, GOLDENRATIO - 0.1, 0]}\n          fontSize={0.02}\n          color=\"#aaaaaa\">\n          Click to view details\n          </Text>\n      )}\n    {/* Active state buttons using HTML */}\n      {isActive && (\n        <Html\n          position={[0, -0.3, 0]}\n          center\n          distanceFactor={1.5}\n          style={{\n            pointerEvents: 'auto',\n          }}>\n          <div style={{\n            display: 'flex',\n            gap: '8px',\n            background: 'rgba(0, 0, 0, 0.8)',\n            padding: '10px 20px',\n            borderRadius: '8px',\n            border: '1px solid rgba(255, 165, 0, 0.5)',\n          }}>\n            <button\n              onClick={handleDownload}\n              style={{\n                padding: '8px 16px',\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                border: 'none',\n                borderRadius: '4px',\n                color: 'white',\n                cursor: 'pointer',\n                fontSize: '14px',\n                fontWeight: 'bold',\n              }}>\n              View Full\n            </button>\n            <button\n              onClick={handleShare}\n              style={{\n                padding: '8px 16px',\n                background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n                border: 'none',\n                borderRadius: '4px',\n                color: 'white',\n                cursor: 'pointer',\n                fontSize: '14px',\n                fontWeight: 'bold',\n              }}>\n              Share\n            </button>\n          </div>\n        </Html>\n      )}\n      \n      {/* Hover state button using HTML */}\n      {hovered && !isActive && (\n        <Html\n          position={[0, -0.3, 0]}\n          center\n          distanceFactor={1.5}\n          style={{\n            pointerEvents: 'none',\n          }}>\n          <div style={{\n            padding: '6px 12px',\n            background: 'rgba(255, 165, 0, 0.2)',\n            borderRadius: '4px',\n            border: '1px solid rgba(255, 165, 0, 0.5)',\n            color: 'orange',\n            fontSize: '12px',\n            fontWeight: 'bold',\n          }}>\n            CLICK TO VIEW\n          </div>\n        </Html>\n      )}\n\n    </group>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}