{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/satyam/nikki/web3-basics/react-three-fiber/image-gallery/src/Scene.jsx"],"sourcesContent":["'use client'\n\nimport * as THREE from 'three'\nimport { useEffect, useRef, useState } from 'react'\nimport { Canvas, useFrame } from '@react-three/fiber'\nimport { useCursor, MeshReflectorMaterial, Image, Text, Environment, Html } from '@react-three/drei'\nimport { useRouter } from 'next/navigation'\nimport { easing } from 'maath'\nimport getUuid from 'uuid-by-string'\n\nconst GOLDENRATIO = 1.61803398874\nconst ITEMS_PER_PAGE = 9\n\nexport const Scene = ({ images, activeId = null, basePath = '/gallery' }) => {\n  const [page, setPage] = useState(0)\n  const [selectedItem, setSelectedItem] = useState(null) \n  \n  // IMPORTANT: Using a functional update correctly ensures we don't lose previous state\n  const [favorites, setFavorites] = useState(new Set()) \n  const [showFavSidebar, setShowFavSidebar] = useState(false)\n  \n  const totalPages = Math.ceil(images.length / ITEMS_PER_PAGE)\n  const visibleImages = images.slice(page * ITEMS_PER_PAGE, (page + 1) * ITEMS_PER_PAGE)\n\n  // Fixed Toggle Logic\n  const toggleFavorite = (id) => {\n    setFavorites((prev) => {\n      const newFavs = new Set(prev) // Create a copy\n      if (newFavs.has(id)) {\n        newFavs.delete(id) // Remove if exists\n      } else {\n        newFavs.add(id) // Add if new\n      }\n      return newFavs // Return new Set reference\n    })\n  }\n\n  const handleColorClick = (color) => {\n    navigator.clipboard.writeText(color)\n    alert(`Color ${color} copied to clipboard!`)\n  }\n\n  return (\n    <>\n      <Canvas dpr={[1, 1.5]} camera={{ fov: 70, position: [0, 2, 15] }}>\n        <color attach=\"background\" args={['#191920']} />\n        <fog attach=\"fog\" args={['#191920', 0, 15]} />\n        <group position={[0, -0.5, 0]}>\n          <Frames \n            images={visibleImages} \n            activeId={activeId} \n            basePath={basePath}\n            onOpenDetails={setSelectedItem}\n            favorites={favorites}\n            onToggleFavorite={toggleFavorite}\n          />\n          <mesh rotation={[-Math.PI / 2, 0, 0]}>\n            <planeGeometry args={[50, 50]} />\n            <MeshReflectorMaterial\n              blur={[300, 100]}\n              resolution={2048}\n              mixBlur={1}\n              mixStrength={80}\n              roughness={1}\n              depthScale={1.2}\n              minDepthThreshold={0.4}\n              maxDepthThreshold={1.4}\n              color=\"#050505\"\n              metalness={0.5}\n            />\n          </mesh>\n        </group>\n        <Environment preset=\"city\" />\n      </Canvas>\n\n      <div className=\"absolute inset-0 pointer-events-none\">\n        \n        {/* Global Favorites Button */}\n        <div className=\"absolute top-8 right-8 pointer-events-auto z-20\">\n          <button \n            onClick={() => setShowFavSidebar(true)}\n            className=\"relative group bg-white/10 hover:bg-white/20 backdrop-blur-md p-3 rounded-full border border-white/20 transition-all\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill={favorites.size > 0 ? \"red\" : \"none\"} stroke=\"white\" strokeWidth=\"2\" className=\"w-6 h-6 transition-colors\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z\" />\n            </svg>\n            {favorites.size > 0 && (\n              <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full\">\n                {favorites.size}\n              </span>\n            )}\n          </button>\n        </div>\n\n        {/* Vertical Pagination */}\n        <div className=\"absolute right-8 bottom-1 -translate-y-1/2 flex flex-col gap-4 pointer-events-auto z-10\">\n          {Array.from({ length: totalPages }).map((_, index) => (\n            <button\n              key={index}\n              onClick={() => setPage(index)}\n              className={`w-10 h-10 rounded-full border flex items-center justify-center text-sm font-bold transition-all duration-300 ${\n                page === index \n                  ? 'bg-white text-black border-white scale-110 shadow-[0_0_15px_rgba(255,255,255,0.5)]' \n                  : 'bg-black/40 text-white/50 border-white/20 hover:bg-white/20 hover:text-white'\n              }`}\n            >\n              {index + 1}\n            </button>\n          ))}\n        </div>\n\n        {/* Favorites Sidebar */}\n        {showFavSidebar && (\n          <div className=\"absolute inset-0 bg-black/50 backdrop-blur-sm z-50 pointer-events-auto flex justify-end\">\n            <div className=\"w-96 h-full bg-[#191920] border-l border-white/10 p-6 shadow-2xl flex flex-col overflow-hidden animate-in slide-in-from-right duration-300\">\n              <div className=\"flex justify-between items-center mb-8\">\n                <h2 className=\"text-2xl font-bold text-white\">Your Favorites</h2>\n                <button \n                  onClick={() => setShowFavSidebar(false)}\n                  className=\"w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10 text-white/50 hover:text-white\"\n                >✕</button>\n              </div>\n              \n              <div className=\"flex-1 overflow-y-auto pr-2 space-y-4\">\n                {favorites.size === 0 ? (\n                  <div className=\"text-white/30 text-center mt-20\">No favorites yet.</div>\n                ) : (\n                  // We need to look through ALL images, not just visible ones\n                  images.filter(img => favorites.has(getUuid(img.url))).map((img) => {\n                    const id = getUuid(img.url)\n                    return (\n                      <div key={id} className=\"flex gap-4 items-center bg-white/5 p-3 rounded-xl border border-white/5\">\n                        <img src={img.url} className=\"w-16 h-16 object-cover rounded-lg\" alt=\"\" />\n                        <div className=\"flex-1\">\n                          <div className=\"text-white font-medium text-sm truncate\">NFT #{id.slice(0,6)}</div>\n                          <button \n                            onClick={() => toggleFavorite(id)}\n                            className=\"text-xs text-red-400 hover:text-red-300 mt-1\"\n                          >\n                            Remove\n                          </button>\n                        </div>\n                      </div>\n                    )\n                  })\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Details Modal */}\n        {selectedItem && (\n          <div className=\"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md pointer-events-auto p-4\">\n            <div className=\"bg-[#191920] border border-white/10 p-8 rounded-3xl max-w-5xl w-full flex flex-col md:flex-row gap-8 shadow-2xl relative animate-in fade-in zoom-in duration-300\">\n              <button \n                onClick={() => setSelectedItem(null)}\n                className=\"absolute top-4 right-4 text-white/50 hover:text-white w-10 h-10 flex items-center justify-center rounded-full bg-white/5 hover:bg-white/10 transition-colors\"\n              >\n                ✕\n              </button>\n              \n              <div className=\"w-full md:w-1/2 rounded-2xl overflow-hidden bg-black aspect-square md:aspect-auto relative shadow-lg group\">\n                <img src={selectedItem.url} alt=\"NFT\" className=\"w-full h-full object-cover\" />\n              </div>\n\n              <div className=\"w-full md:w-1/2 flex flex-col justify-center\">\n                <div>\n                  <h1 className=\"text-4xl font-black text-white mb-2 tracking-tight\">\n                    Abstract #{selectedItem.name.slice(0, 6)}\n                  </h1>\n                  <div className=\"flex items-center gap-3 mb-8\">\n                    <span className=\"px-3 py-1 bg-purple-500/20 text-purple-400 text-xs font-bold tracking-wider rounded-full border border-purple-500/20\">ETH-721</span>\n                    <span className=\"text-white/40 text-sm\">Created by @DigitalArtist</span>\n                  </div>\n\n                  <div className=\"space-y-6 mb-8\">\n                    <div className=\"flex justify-between items-center border-b border-white/5 pb-4\">\n                      <span className=\"text-white/60 font-medium\">Current Price</span>\n                      <span className=\"text-white font-mono text-2xl font-bold\">{(Math.random() * 5 + 0.5).toFixed(2)} ETH</span>\n                    </div>\n                    \n                    <div className=\"flex justify-between items-center border-b border-white/5 pb-4\">\n                      <span className=\"text-white/60 font-medium\">Color Palette <span className=\"text-[10px] text-white/30 ml-1\">(Click to copy)</span></span>\n                      <div className=\"flex gap-2\">\n                        {['#FF5733', '#33FF57', '#3357FF'].map(color => (\n                          <button \n                            key={color}\n                            onClick={() => handleColorClick(color)}\n                            className=\"w-6 h-6 rounded-full border border-white/20 hover:scale-110 transition-transform focus:ring-2 ring-white\"\n                            style={{ backgroundColor: color }}\n                            title={`Copy ${color}`}\n                          />\n                        ))}\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex justify-between items-center border-b border-white/5 pb-4\">\n                      <span className=\"text-white/60 font-medium\">Token ID</span>\n                      <span className=\"text-white/40 font-mono text-xs tracking-wide bg-black/30 px-2 py-1 rounded\">{selectedItem.name}</span>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex gap-4\">\n                  <button className=\"flex-1 bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors shadow-lg shadow-white/5\">\n                    Place Bid\n                  </button>\n                  <button \n                    onClick={() => toggleFavorite(selectedItem.name)}\n                    className={`px-8 rounded-xl border-2 font-bold transition-colors flex items-center justify-center gap-2\n                      ${favorites.has(selectedItem.name) \n                        ? 'border-red-500 bg-red-500/10 text-red-500' \n                        : 'border-white/20 text-white hover:bg-white/5'}`}\n                  >\n                    {favorites.has(selectedItem.name) ? 'Liked ♥' : 'Like ♡'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  )\n}\n\nfunction Frames({ images, activeId, basePath, onOpenDetails, favorites, onToggleFavorite, q = new THREE.Quaternion(), p = new THREE.Vector3() }) {\n  const ref = useRef()\n  const clicked = useRef()\n  const router = useRouter()\n\n  useEffect(() => {\n    clicked.current = ref.current.getObjectByName(activeId)\n    if (clicked.current) {\n      clicked.current.parent.updateWorldMatrix(true, true)\n      clicked.current.parent.localToWorld(p.set(0, GOLDENRATIO / 2, 1.25))\n      clicked.current.parent.getWorldQuaternion(q)\n    } else {\n      p.set(0, 0, 5.5)\n      q.identity()\n    }\n  })\n\n  useFrame((state, dt) => {\n    easing.damp3(state.camera.position, p, 0.4, dt)\n    easing.dampQ(state.camera.quaternion, q, 0.4, dt)\n  })\n\n  return (\n    <group\n      ref={ref}\n      onClick={(e) => {\n        e.stopPropagation()\n        const target = clicked.current === e.object ? basePath : '/item/' + e.object.name\n        if(clicked.current === e.object) {\n            router.push(basePath)\n        } else {\n            router.push('/item/' + e.object.name)\n        }\n      }}\n      onPointerMissed={() => router.push(basePath)}>\n      {images.map((props) => {\n        const id = getUuid(props.url)\n        return (\n          <Frame \n            key={props.url} \n            {...props} \n            activeId={activeId} \n            onOpenDetails={onOpenDetails}\n            isLiked={favorites.has(id)}\n            toggleLike={() => onToggleFavorite(id)}\n          />\n        )\n      })}\n    </group>\n  )\n}\n\nfunction Frame({ url, c = new THREE.Color(), activeId, onOpenDetails, isLiked, toggleLike, ...props }) {\n  const image = useRef()\n  const frame = useRef()\n  const [hovered, hover] = useState(false)\n  const [rnd] = useState(() => Math.random())\n  const name = getUuid(url)\n  const isActive = activeId === name\n  \n  useCursor(hovered)\n  useFrame((state, dt) => {\n    image.current.material.zoom = 1.2 + Math.sin(rnd * 10000 + state.clock.elapsedTime / 3) / 4\n    easing.damp3(image.current.scale, [0.85 * (!isActive && hovered ? 0.85 : 1), 0.9 * (!isActive && hovered ? 0.905 : 1), 1], 0.1, dt)\n    easing.dampC(frame.current.material.color, hovered ? 'orange' : 'white', 0.1, dt)\n  })\n\n  const handleDetailsClick = (e) => {\n    e.stopPropagation() \n    onOpenDetails({ url, name, rnd })\n  }\n  \n  const handleLikeClick = (e) => {\n    e.stopPropagation() \n    toggleLike()\n  }\n\n  return (\n    <group {...props}>\n      <mesh\n        name={name}\n        onPointerOver={(e) => (e.stopPropagation(), hover(true))}\n        onPointerOut={() => hover(false)}\n        scale={[1, GOLDENRATIO, 0.05]}\n        position={[0, GOLDENRATIO / 2, 0]}>\n        <boxGeometry />\n        <meshStandardMaterial color=\"#151515\" metalness={0.5} roughness={0.5} envMapIntensity={2} />\n        <mesh ref={frame} raycast={() => null} scale={[0.9, 0.93, 0.9]} position={[0, 0, 0.2]}>\n          <boxGeometry />\n          <meshBasicMaterial toneMapped={false} fog={false} />\n        </mesh>\n        <Image raycast={() => null} ref={image} position={[0, 0, 0.7]} url={url} />\n      </mesh>\n\n      {/* <Text maxWidth={0.1} \n        anchorX=\"left\" \n        anchorY=\"top\" \n        position={[0.55, GOLDENRATIO, 0]} \n        fontSize={0.025} \n        color={hovered ? 'orange' : isActive ? '#00fff00' : 'white'}\n      >\n         {name.split('-').join(' ')}\n      </Text> */}\n\n      {isLiked && (\n        <Text \n          anchorX=\"right\" \n          anchorY=\"top\" \n          position={[0.45, GOLDENRATIO - 0.05, 0.1]} \n          fontSize={0.1} \n          color=\"#ef4444\"\n        >\n          ♥\n        </Text>\n      )}\n\n      {isActive && (\n        <Html\n          position={[0, 0.15, 0.2]} \n          center\n          transform \n          occlude \n          distanceFactor={1.2} \n          style={{ pointerEvents: 'auto' }}\n        >\n          <div className=\"flex gap-3 p-2 bg-black/60 backdrop-blur-md rounded-full border border-white/10 shadow-[0_0_20px_rgba(0,0,0,0.5)]\">\n            <button\n              onClick={handleDetailsClick}\n              className=\"px-5 py-2 bg-white text-black rounded-full text-xs font-bold hover:bg-gray-200 transition-colors flex items-center gap-2 whitespace-nowrap\"\n            >\n              <span>See Details</span>\n            </button>\n\n            <button\n              onClick={handleLikeClick}\n              className={`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all duration-300\n                ${isLiked \n                  ? 'bg-red-500 border-red-500 text-white' \n                  : 'bg-transparent border-white/30 text-white hover:bg-white/10 hover:border-white'\n                }`}\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill={isLiked ? \"currentColor\" : \"none\"} stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"w-4 h-4\">\n                <path d=\"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\" />\n              </svg>\n            </button>\n          </div>\n        </Html>\n      )}\n    </group>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}